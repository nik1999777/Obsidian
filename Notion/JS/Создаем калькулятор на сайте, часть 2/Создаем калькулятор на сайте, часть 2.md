![[Untitled 143.png|Untitled 143.png]]

![[Untitled 1 70.png|Untitled 1 70.png]]

Внутри **функции** **getDynamicInformation()** мы записываем **условие**, в котором будет сказано, что если в символах, введенных пользователем в **input**, находится что-то кроме чисел, то мы обводим **border** **input** в красную рамку, если нет, то **border none**.

```JavaScript
function getDynamicInformation(selector) {
        const input = document.querySelector(selector);

        input.addEventListener('input', () => {
            if (input.value.match(/\D/g)) {
                input.style.border = "1px solid red";
            } else {
                input.style.border = 'none';
            }
```

Здесь когда мы обращаемся к коэффициенту активности. В **условии** записываем **localStorage** и используем **метод** **setItem()**, и получается, что когда мы кликаем на определенный элемент, запоминается выбранное значение в **localStorage**.

И то же самое мы будем делать для пола, чтобы запоминался выбранный пол:

```JavaScript
localStorage.setItem('sex', e.target.getAttribute('id'))
```

```JavaScript
function getStaticInformation(selector, activeClass) {
        const elements = document.querySelectorAll(selector);

        elements.forEach(elem => {
            elem.addEventListener('click', (e) => {
                if (e.target.getAttribute('data-ratio')) {
                    ratio = +e.target.getAttribute('data-ratio');
                    localStorage.setItem('ratio', +e.target.getAttribute('data-ratio'));
                } else {
                    sex = e.target.getAttribute('id');
                    localStorage.setItem('sex', e.target.getAttribute('id'));
                }
```

Далее мы возвращаемся туда, где задавали **переменные**. И здесь мы говорим, что если в **localStorage** уже есть какая то информация, то эту информацию мы оттуда берем и помещаем в **переменную** **sex** и **переменную** **ratio**. Но а если вдруг этой информации нет, то мы установим ее по умолчанию.

Мы прописываем 2 **условия**, в которых говорится: если в **localStorage** уже есть значение **sex** и **ratio** c помощью **метода** **getItem()**, то мы и будем его использовать для задания **переменной**. Если ее нет **else**, то мы вручную записываем значения **sex** и **ratio** по умолчанию.

```JavaScript
// Calculator

    const result = document.querySelector('.calculating__result span');
    
    let sex, height, weight, age, ratio;

    if (localStorage.getItem('sex')) {
        sex = localStorage.getItem('sex');
    } else {
        sex = 'female';
        localStorage.setItem('sex', 'female');
    }

    if (localStorage.getItem('ratio')) {
        ratio = localStorage.getItem('ratio');
    } else {
        ratio = 1.375;
        localStorage.setItem('ratio', 1.375);
    }
```

Теперь сделаем так, чтобы на выбранных и записанных в **localStorage** элементах присутствовал **класс активности**. Мы создадим для этого отдельную **функцию initLocalSettings()**.

Внутри **функции** сначала мы получаем нужные элементы со страницы. Далее перебираем **методом** **forEach()** каждый отдельный элемент. И первым делом удаляем класс активности. А далее мы прописываем 2 **условия**, в которых говорится: если **id** и **data-ratio** будет строго равен тому значению, который у нас лежит в **localStorage**, то мы нашему **div** назначим класс активности.

И далее вызываем 2 раза **функцию**.

```JavaScript
function initLocalSettings(selector, activeClass) {
    const elements = document.querySelectorAll(selector);

    elements.forEach(elem => {
        elem.classList.remove(activeClass);
        if (elem.getAttribute('id') === localStorage.getItem('sex')) {
            elem.classList.add(activeClass);
        }
        if (elem.getAttribute('data-ratio') === localStorage.getItem('ratio')) {
            elem.classList.add(activeClass);
        }
    });
}
```