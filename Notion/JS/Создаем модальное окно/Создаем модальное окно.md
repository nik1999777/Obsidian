**Триггеры** - это те элементы, которые вызывают последующие действия.

  

[https://keycode.info/](https://keycode.info/)  - узнать код клавиши (ее **event.code**)

  

![[Untitled 123.png|Untitled 123.png]]

Данный код создает модальное окно.

Мы задаем **переменные** **const modalTrigger**, **const modal**, **const modalCloseBtn** и получаем нужные нам элементы со страницы с помощью **методов** **document.querySelector()** и **document.querySelectorAll()**, но заметим, что в некоторых элемента мы обращаемся к **data - атрибутам**.

Далее обращаемся к **переменной** **modalTrigger** и с помощью конструкции **forEach()**, мы перебираем все элементы в этой **переменной** (и т. к. это **псевдомассив**), внутри конструкции навешиваем **обработчик события** и используем **методы add()** и **remove()**, чтобы открывать модальное окно при нажатии на кнопку. А также убираем прокрутку страницы с помощью **overflow**.

Далее создаем функцию, которая **function closeModal()**, которая будет закрывать модальное окно.

**modalCloseBtn.addEventListener('click', closeModal)** - здесь мы функции передаем, а не вызывваем, то есть функция сработает только тогда, когда произведется нажатие на кнопку.

Далее с помощью объекта **event**, мы задаем условие, что при **e.target === modal** уже вызовется **функция closeModal()**, то есть если мы нажимаем пространство сайта, там где нет модального окна, то оно закроется.

Далее мы используем **событие keydown**(событие происходит при нажатие на клавишу), и прописываем **условие**, если нажатая клавиша строго равна клавише **escape** и класс **show** присутствует, то вызывается **функция closeModal()**.

```JavaScript
//Modal 

    const modalTrigger = document.querySelectorAll('[data-modal]'),
          modal = document.querySelector('.modal'),
          modalCloseBtn = document.querySelector('[data-close]');
    
    modalTrigger.forEach(btn => {
        btn.addEventListener('click', () => {
            modal.classList.add('show');
            modal.classList.remove('hide');
            document.body.style.overflow = 'hidden';
        });
    });

    function closeModal() {
        modal.classList.add('hide');
        modal.classList.remove('show');
        document.body.style.overflow = '';
    }

    modalCloseBtn.addEventListener('click', closeModal);

    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            closeModal();
        }
    });

    document.addEventListener('keydown', (e) => {
        if (e.code === "Escape" && modal.classList.contains('show')) {
            closeModal();
        }
    });
```

```HTML
<div class="header__right-block">
		 <button data-modal class="btn btn_white">Связаться с нами</button>
</div>

<div class="offer__action">
	   <button data-modal class="btn btn_dark">Связаться с нами</button>
</div>

<div class="modal">
    <div class="modal__dialog">
				 <div class="modal__content">
            <form action="#">
                <div data-close class="modal__close">&times;</div>
                <div class="modal__title">Мы свяжемся с вами как можно быстрее!</div>
                <input required placeholder="Ваше имя" name="name" type="text" class="modal__input">
                <input required placeholder="Ваш номер телефона" name="phone" type="phone" class="modal__input">
                <button class="btn btn_dark btn_min">Перезвонить мне</button>
            </form>
         </div>
    </div>
</div>
```