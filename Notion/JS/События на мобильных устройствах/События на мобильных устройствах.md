[http://youon.ru/%D0%90%D0%BD%D0%B4%D1%80%D0%BE%D0%B8%D0%B4/%D0%A0%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0/touch-sobytiya-na-javascript-multitach-realizatsiya](http://youon.ru/%D0%90%D0%BD%D0%B4%D1%80%D0%BE%D0%B8%D0%B4/%D0%A0%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0/touch-sobytiya-na-javascript-multitach-realizatsiya)  - большая статья с примерами

[https://habr.com/ru/company/sibirix/blog/227175/](https://habr.com/ru/company/sibirix/blog/227175/) -  статься: заставьте сайт работать на сенсорных устройствах

[https://hammerjs.github.io/](https://hammerjs.github.io/)

**Hammer**. **js** - **это** javascript-библиотека для обеспечения любому веб-сайту поддержки восприятия тактильного воздействия, облегчающей пользователям устройств с сенсорными экранами интерактивное его применение.

  

В мобильных браузерах есть **табы**, по простому - это когда мы прикасаемся к сенсору пальцем.  Но и пальцев может-быть несколько, потому что чаще всего устройство поддерживает **multitouch**.

Важно знать, что мобильные браузеры сами по себе нормально отрабатывают со всеми сайтами. Если в desktop версии мы установили **событие клика**, оно все равно будет работать на мобилке.

  

На мобильном браузере существует 6 событий:

```JavaScript
touchstart - это событие срабатывает при возникновения касания к этому элементу. 

touchmove - если наш палец при соприскасании к элементу начинает двигаться по нему, то соответсвенно каждый раз, при каждом смещении этого пальца будет срабатывать это событие.

touchend - как только палец оторвался от элемента, тогда наше событие и выполняется. 

touchenter - это событие будет срабатывать, когда мы ведем пальцем по экрану и при этом наскальзываем, наскакиваем на какой-то элемент, на которое повешено это событие. 

touchleave - это событие противоположное, когда наш палец не именно оторвался от экрана, а продолжил куда-то скользить и ушел за пределы этого элемента. 

touchcancel - это событие возникает тогда, когда точка соприкосновения больше не регистрируется на поверхности.(Например мы на мобильном браузере можем что-то серфить и при этом наш палец выйдет за пределы браузера, таким образом у нас срабатывает событие touchcancel.
```

Пробуем использовать **сенсорное** **событие** **touchstart** и видим в консоле, что оно у нас срабатывает.

```JavaScript
window.addEventListener('DOMContentLoaded', () => {
    const box = document.querySelector('.box');

    box.addEventListener('touchstart', (e) => {
        e.preventDefault();
        
        console.log("Start");
    });
});
```

![[Untitled 116.png|Untitled 116.png]]

Теперь используем **touchmove** и видим в консоле, как появляется очень много сообщений во время движения с зажатой мышкой.

```JavaScript
box.addEventListener('touchmove', (e) => {
        e.preventDefault();

        console.log('Move');
});
```

![[Untitled 1 53.png|Untitled 1 53.png]]

И использовав событие **touchend**, мы с вами видим как появляется сообщение в консоле, после того, как мы отжимаем левую кнопку мыши ли тачпад.

```JavaScript
box.addEventListener('touchend', (e) => {
        e.preventDefault();

        console.log("End");
});
```

![[Untitled 2 40.png|Untitled 2 40.png]]

А зачем мы все это разбираем? Есть такое действие как **свайп**. Например мы работаем со слайдером и мы хотим включить следующий слайд, мы смахиваем пальцем на след элемент, соответсвенно такие вещи и генерируются при помощи **сенсорных событий**.

И еще один пример: щепотка  - это когда мы можем увеличивать ли уменьшать какие-то вещи.

У нас также есть дополнительные **свойства у объекта события**, когда мы работаем с сенсорными устройствами. (то есть **event** или **e** имеет дополнительные плюшки при работе с сенсорными устройствами).

```JavaScript
touches - это свойство выдает нам список всех пальцев, которые сейчас взаимодейтсвуют с экраном, то есть те, которые прямо сейчас табнул и держит пользователь на сенсорном мониторе. 

targetTouches - это свойтво выдает нам список пальцев, которые взаимодейьсвует с конкретным элементом. 

changedTouches - это свойство выдает нам список пальцев, которые учасвтуют в текущем событие, например если это событие touchend, то список будет содержать палец, который был убран, даже если остальные четыре пальца на экране до сих пор на экране.
```

```JavaScript
box.addEventListener('touchstart', (e) => {
        e.preventDefault();
        
        console.log("Start");
        console.log(e.touches);
});
```

Чтобы убедиться, как работает **свойство touches**, пропишем **console.log(e.touches)** и увидим, что у нас в консоле появился **объект TouchList**. Раскрыв его мы можем увидеть список пальцев, **target** (с каким элементом было взаимодействие), какие-то координаты и многое другое. То есть если необходимо получить список всех пальцев, которые на экране, не важно, где они находятся, то мы используем **touches**.

```JavaScript
console.log(e.targetTouches);
```

Если же нас интересуют все пальцы, которые взаимодействуют с конкретным элементом, то для этого мы используем **свойство** **targetTouches**.

![[Untitled 3 28.png|Untitled 3 28.png]]

Давайте рассмотрим в простом варианте, как мы можем отслеживать **touchmove**. Мы сюда можем вывести **console.log(e.targetTouches[0].pageX)**, обращаясь к первому пальцу **[0]** и получая координаты **pageX**.

```JavaScript
box.addEventListener('touchmove', (e) => {
        e.preventDefault();

        console.log(e.targetTouches[0].pageX);
    });
```

![[Untitled 4 20.png|Untitled 4 20.png]]